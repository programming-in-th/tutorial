# 1.5 ตัวแปร (Variable)

## 1.5.1 การประกาศตัวแปรและกำหนดค่าให้กับตัวแปร (Declaration and Assignment)

"**ตัวแปร (Variable)**"  คือ สิ่งที่จะช่วยเราจำค่าต่างๆ ไว้แสดงค่าหรือคำนวณในภายหลัง โดยตัวแปรเหล่านี้จะเก็บค่าเอาไว้ในหน่วยความจำ (Memory) ของคอมพิวเตอร์
"**การประกาศตัวแปร (Declaration)**" ก่อนที่เราจะนำตัวแปรมาใช้ได้ เราต้องประกาศตัวแปรเสียก่อน (สร้างตัวแปร) โดยมีรูปแบบดังนี้

```cpp
int number;
char letter;
```

`int` และ `char` คือประเภทของข้อมูล ที่ตัวแปรนั้นๆสามารถเก็บได้ ส่วน `number` และ `letter` คือชื่อของตัวแปร

---

ชนิดของตัวแปรที่มีอยู่ ได้แก่

| ชนิด | การใช้งาน | ตัวจัดรูปแบบ |
|--|--|--|
| **`char`** | ใช้เก็บตัวอักษร หรืออักขระ 1 ตัว (Character) | `%c` |
| **`int`** | ใช้เก็บเลขจำนวนเต็ม (Integer) โดยมีค่าได้ตั้งแต่ `-2^31` ถึง `2^31-1` | `%d` |
| **`long long`** | ใช้เก็บเลขจำนวนเต็มโดยมีค่าได้ตั้งแต่ `-2^63` ถึง `2^63-1` | `%lld` |
| **`double`** | ใช้เก็บ เลขจำนวนจริง ได้ประมาณ 14 ตำแหน่งเลขนัยสำคัญ | `%f`

นอกจากนี้ยังมีชนิดตัวแปรดังต่อไปนี้ที่ปกติจะไม่ใช้ เพราะมีโอกาสเก็บข้อมูลคลาดเคลื่อนหรือผิดพลาดสูง

| ชนิด | การใช้งาน | ตัวจัดรูปแบบ |
|--|--|--|
| **`unsigned`** | ใช้เก็บเลขจำนวนเต็มที่ไม่ติดลบ โดยมีค่าได้ตั้งแต่ `0` ถึง `2^32-1` | `%u` |
| **`unsigned long long`** | ใช้เก็บ เลขจำนวนเต็มที่ไม่ติดลบ โดยมีค่าได้ตั้งแต่ `0` ถึง `2^64-1` | `%llu` |
| **`float`** | ใช้เก็บเลขจำนวนจริง (Floating number) ได้ประมาณ 7 ตำแหน่งเลขนัยสำคัญ | `%f`

---

"**การกำหนดค่าตัวแปร (Assignment)**" คือการเปลี่ยนค่าที่ตัวแปรนั้น ๆ เก็บไว้ในหน่วยความจำ โดยเราสามารถนำค่าดังกล่าวมาใช้ในการคำนวณหรือแสดงผลได้ ดังนี้

```cpp
int x; // declare x as an integer variable
int y; // declare y as an integer variable
x = 5; // assign x value of 5
y = x+1; // assign y value of x+1
printf("%d %d", x, y); // display "5 6"
```

เราสามารถประกาศและกำหนดค่าตัวแปรไปพร้อม ๆ กันได้ ดังนี้
```
int x = 5;
char c = ‘A’;
```

หากเป็นตัวแปรชนิดเดียวกัน สามารถประกาศไปพร้อม ๆ กันในบรรทัดเดียวได้ ดังนี้

```cpp
// declare and assign values to x, y, z.
// k is declared but not assigned any value.
int x = 2, y = 3, z = 5, k;
```

หากยังไม่ได้กำหนดค่าตัวแปร ค่าของตัวแปรมักจะเป็น **junk value** ซึ่งก็คือค่ามั่ว ๆ ที่บังเอิญอยู่ ณ ตำแหน่งหน่วยความจำนั้นพอดี เพราะฉะนั้น ต้องระวัง อย่านำไปใช้ในการคำนวณหรือแสดงผลจนกว่าจะกำหนดค่าเสร็จสิ้น

---

**โจทย์**: จงประกาศตัวแปรชื่อ `myFirstVar` เพื่อเก็บจำนวน 23.61 แล้วนำมาแสดงผลดังนี้

```
The value of my first variable is: 23.61
```

---

ตัวแปรในการเขียนโปรแกรมมีการเปลี่ยนแปลงค่าได้เสมอ ไม่เหมือนในคณิตศาสตร์

```cpp
int x = 100;
x = x+1; // x is now 101
x = x+1; // x is now 102
printf("%d\n", x); // display "102"
```

จากโค้ดดังกล่าว `x = x+1` ไม่ใช่สมการทางคณิตศาสตร์ แต่เป็นการกำหนดค่า โดยกำหนดให้ `x` มีค่า (ใหม่) เท่ากับค่าของ `x` (เก่า) บวกด้วย 1 ดังนั้น หลังบรรทัดที่ 2 `x` จึงมีค่าเท่ากับ 101 และเมื่อทำซ้ำอีกรอบ `x` จึงมีค่าเท่ากับ 102

ทั้งนี้ มีข้อควรระวังอีก 3 อย่างคือ
- อย่าลืมประกาศตัวแปรก่อนกำหนดค่าหรือใช้แสดงผลเสมอ
- ห้ามประกาศตัวแปรที่มีชื่อซ้ำกัน (แม้ว่าจะใช้ชนิดต่างกันก็ตาม)
- ใช้ชนิดของตัวแปรให้เหมาะสมกับค่าที่ต้องการจะเก็บ รวมถึงใช้ format ให้เหมาะสมกับการแสดงผลด้วย (`%d` สำหรับ `int`, `%f` สำหรับ `double`, `%lld` สำหรับ `long long`, `%c` สำหรับ `char`)

---

**โจทย์**: จงแก้ไขโค้ดเพื่อให้แสดงผลออกมาดังนี้

```
Value of a is 1.23
```

```cpp
#include <stdio.h>
int main(void)
{
    a = 1.23456789;
    printf("Value of a is %d\n", a);
    return 0;
}
```

**Hint**: ก่อนจะใช้ตัวแปรได้จะต้อง ...?

---

**โจทย์**: จงประกาศตัวแปรโดยให้ `pi = 3.1415926` และ `e = 2.7182818` แล้วแสดงผลดังนี้

```
pi is 3.1415926
e is 2.7182818
pi+e is 5.86
```

**Hint**: สามารถนำค่า `pi+e` ไปใส่ใน argument ของ `printf` ได้ตรง ๆ เลย (หรือจะประกาศตัวแปรเพื่อเก็บผลรวม `pi+e` ก่อนก็ได้ แล้วนำมาใช้แสดงผล)

---

**โจทย์**: จงเติมโค้ดเพื่อสลับค่าของตัวแปร `a` และตัวแปร `b`

```cpp
#include <stdio.h>
int main(void)
{
    int a = 5, b = 3;
    printf("before: a = %d, b = %d\n", a, b);
    //
    // your code here
    // 
    printf("after:  a = %d, b = %d\n", a, b);
    return 0;
}
```

**Hint**:  อาจจะต้องสร้างตัวแปรที่ 3 ขึ้นมาช่วยในการเก็บค่าชั่วคราว